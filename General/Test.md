# 什麼是測試?
投注了精神及時間所完成的軟體，該怎麼驗證它運作無誤?
使用各式各樣的測試來檢驗它。

同字不同認知的情況，在此文中可能會發生。
嘗試理解其中的精神，在適當的地方代入您認知中的名詞，可能會有幫助。

## Unit Testing 單元測試
單元測試的精神旨在測試「最小」單位的軟體元件
但是「最小」的定義對每個人或每種情況中不見得相同
此文中將以我認為的「單元」進行解釋

單元測試是測試小片段代碼的實務(或者說一種方法)
通常是單獨且獨立的函式(可以是物件導向中的方法或是函式範式中的函數)
意即獨立於網路或資料庫
獨立的概念是想要盡可能縮小測試的範圍及降低複雜度
如果函式使用到外部資源如資料庫
就要考慮由資料庫提供的「資料」是否無誤
若一定得使用外部資源的資料
可以使用「假資料」(mock or stub)來替代與外部資源交互的代碼

回頭說明「測試」的概念
函式為接收輸入，產出輸出的東西
要驗證函式是不是正確
就使用一組輸入來取得一組輸出
再驗證輸出的結果是否符合預期
若全數符合預期
那麼你就可以有一定的信心說，這個函式不太有問題

為什麼說「不太有」而不是「一定」沒問題呢?
在計算機科學中，要證明一段代碼「完全」正確是不可能的
這邊不會深入探討這個問題

單元測試應該要很容易撰寫
給定一些輸入
檢驗函式的輸出是否正確

受測片段若難以設計單元測試
通常表示該片段設計不良
因此單元測試也能協助你寫出更好的代碼

除了協助你進行更佳的設計
測試也為你異動代碼時
架起一道防護網

其他型式的測試也是相同於上述概念
只是更為複雜、範圍更大、較不集中於特定片段罷了

單元測試也是避免 regressions 的良方

## Integration Testing 整合測試
如名所示，整合測試對系統中的一部份進行測試
該部份的運作為數個軟體元件交互作用的結果
使用整合測試對其數個元件的整合進行測試

如果受測代碼就是要用到數個單位元件來完成
那就使用整合測試來驗證吧

因為整合測試是測試由數個單位的整合
因此在執行的代價上會比較高
範圍也比較廣

整合測試數量應該要少於單元測試

## Functional Testing 功能測試
功能測試是範圍更大的測試
例如 Web app 中的會員註冊功能

因為是在模擬用戶操作系統的動作
來檢驗應用程式是否符合預期
因此它執行的代價又比整合測試來得高、範圍更廣

功能測試應該要是數量最少的測試

## 後記
試圖將自己的理解用文字表達出來
果然不是一件容易的事
要在一堆資訊中過濾出有用的資訊也不簡單
如果有錯請不吝指教，謝謝

## 參考
https://codeutopia.net/blog/2015/04/11/what-are-unit-testing-integration-testing-and-functional-testing/

###### tags: `article`
